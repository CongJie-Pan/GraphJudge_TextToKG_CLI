# 知識圖譜可視化器

本資料夾包含兩個基於 D3.js 的知識圖譜可視化工具，用於展示 `final_results_20250619_133346.json` 的內容。

## 檔案說明

### 1. `knowledge_graph_visualizer.html` - 完整功能版本
這是一個功能豐富的知識圖譜可視化器，包含以下特性：
- **豐富的互動功能**：拖拽、縮放、平移
- **智能搜尋系統**：可根據實體名稱快速定位
- **多樣化的視覺效果**：節點分類著色、懸停高亮、關係追蹤
- **完整的控制面板**：縮放控制、視圖重置、模擬暫停/繼續
- **詳細的提示信息**：實體類型、連接數統計
- **響應式設計**：適應不同螢幕尺寸

### 2. `simple_graph_viewer.html` - 簡化預覽版本
這是一個輕量級的預覽工具，適合快速查看效果：
- **簡潔的介面設計**
- **基本的互動功能**：拖拽、縮放
- **核心統計信息**：實體和關係數量
- **快速載入**：優化的渲染性能

## 使用方法

### 1. 開啟檔案
直接在瀏覽器中開啟 HTML 檔案即可：
- 推薦使用 Chrome、Firefox 或 Edge 瀏覽器
- 建議螢幕解析度至少 1200x800 以獲得最佳體驗

### 2. 操作說明

#### 基本操作
- **滑鼠拖拽**：移動個別節點
- **滑鼠滾輪**：縮放圖譜
- **滑鼠左鍵拖拽空白處**：平移整個圖譜
- **懸停節點**：顯示詳細信息

#### 進階功能（完整版）
- **搜尋功能**：在搜尋框中輸入實體名稱進行快速定位
- **縮放控制**：使用滑動條精確控制縮放比例
- **重置視圖**：點擊重置按鈕回到初始狀態
- **暫停模擬**：暫停物理模擬以固定當前布局

### 3. 節點分類說明

圖譜中的節點根據內容特性分為五類，使用不同顏色標示：

| 顏色 | 類型 | 說明 | 示例 |
|------|------|------|------|
| 🟠 橙色 | 人物 | 小說中的人物角色 | 賈雨村、英蓮、曹雪芹 |
| 🟢 綠色 | 地點 | 地理位置和場所 | 葫蘆廟、大荒山、京城 |
| 🟣 紫色 | 文學作品 | 書籍和詩詞作品 | 《紅樓夢》、《石頭記》 |
| 🔴 紅色 | 概念/事件 | 抽象概念和重要事件 | 夢幻、富貴、功名 |
| 🔵 藍色 | 其他 | 未分類的其他實體 | 通用概念、物品等 |

### 4. 技術特性

#### 數據處理
- **實體提取**：從 JSON 檔案中提取 399+ 個實體
- **關係解析**：處理 500+ 個實體間的關係
- **智能分類**：基於實體名稱特徵自動分類

#### 視覺化技術
- **力導向布局**：使用 D3.js 的力學模擬算法
- **碰撞檢測**：防止節點重疊
- **動態標籤**：根據節點重要性顯示標籤

#### 性能優化
- **漸進式渲染**：先顯示重要節點，再逐步加載細節
- **事件節流**：優化互動響應性能
- **記憶體管理**：有效管理大型圖譜的渲染

## 故障排除

### 常見問題

1. **圖譜無法載入**
   - 確認 `final_results_20250619_133346.json` 檔案存在於正確路徑
   - 檢查瀏覽器是否支援現代 JavaScript 特性
   - 查看瀏覽器開發者工具的錯誤信息

2. **效能問題**
   - 建議使用簡化版本進行快速預覽
   - 關閉其他佔用記憶體的程序
   - 嘗試降低瀏覽器縮放比例

3. **顯示異常**
   - 刷新頁面重新載入
   - 確認螢幕解析度足夠
   - 檢查瀏覽器相容性

### 系統需求
- **瀏覽器**：Chrome 80+、Firefox 75+、Safari 13+、Edge 80+
- **記憶體**：建議 4GB 以上
- **網路**：需要網路連接以載入 D3.js 函式庫

## 開發說明

### 檔案結構
```
kgGenShows/
├── knowledge_graph_visualizer.html    # 完整功能版本
├── simple_graph_viewer.html           # 簡化預覽版本
├── README.md                          # 本說明文件
└── ../final_results_20250619_133346.json  # 數據源文件
```

### 自定義選項
可以通過修改 JavaScript 代碼來調整以下參數：
- **顏色方案**：修改 `colorScheme` 物件
- **力學參數**：調整 `force` 設定
- **節點大小**：修改半徑計算公式
- **標籤顯示**：調整標籤過濾條件

### 擴展功能建議
- 增加時間軸篩選
- 添加關係類型篩選
- 實現節點聚類功能
- 支援數據導出功能

---

**注意事項**：
- 本工具僅供學術研究和教學使用
- 圖譜內容基於自動生成的知識抽取結果
- 建議結合原文進行對比驗證

**版本信息**：
- 建立日期：2025-07-05
- D3.js 版本：v7
- 瀏覽器相容性：現代瀏覽器 