(.venv) D:\AboutUniversity\114 NSTC_and_SeniorProject\2025-IM-senior-project\Miscellaneous\KgGen\GraphJudge\chat>python run_gemini_gj.py                                
✓ GeminiRAG_ground system imported successfully
✓ Gemini Graph Judge initialized with model: gemini-2.5-pro
✓ Global Gemini Graph Judge instance initialized
✓ Dataset loaded: 122 total samples
✓ Using 121 evaluation samples from 122 total
📊 Final evaluation dataset size: 121 instructions
✓ Loaded 122 instruction entries
======================================================================
🎯 Gemini RAG Graph Judge - Enhanced Knowledge Graph Triple Validation
======================================================================
🔍 Running pre-flight checks...
✓ Input file validation passed: 122 entries
🚀 Starting Gemini RAG Graph Judge processing...
📊 Processing 121 graph judgment tasks...
📊 Configuration: Max concurrent requests = 2
⏱️  Base delay between requests: 1.0 seconds
------------------------------------------------------------
🔄 Processing instruction 1/121
✅ Completed instruction 1/121 - Result: Yes
🔄 Processing instruction 2/121
✅ Completed instruction 2/121 - Result: Yes
🔄 Processing instruction 3/121
✅ Completed instruction 3/121 - Result: Yes
🔄 Processing instruction 4/121
✅ Completed instruction 4/121 - Result: Yes
🔄 Processing instruction 5/121
✅ Completed instruction 5/121 - Result: Yes
🔄 Processing instruction 6/121
✅ Completed instruction 6/121 - Result: Yes
🔄 Processing instruction 7/121
✅ Completed instruction 7/121 - Result: Yes
🔄 Processing instruction 8/121
✅ Completed instruction 8/121 - Result: Yes
🔄 Processing instruction 9/121
✅ Completed instruction 9/121 - Result: Yes
🔄 Processing instruction 10/121
✅ Completed instruction 10/121 - Result: No
🔄 Processing instruction 11/121
✅ Completed instruction 11/121 - Result: Yes
🔄 Processing instruction 12/121
✅ Completed instruction 12/121 - Result: No
🔄 Processing instruction 13/121
✅ Completed instruction 13/121 - Result: Yes
🔄 Processing instruction 14/121
Warning: Response has no answer attribute or answer is None, defaulting to No
✅ Completed instruction 14/121 - Result: No
🔄 Processing instruction 15/121
✅ Completed instruction 15/121 - Result: Yes
🔄 Processing instruction 16/121
✅ Completed instruction 16/121 - Result: No
🔄 Processing instruction 17/121
✅ Completed instruction 17/121 - Result: Yes
🔄 Processing instruction 18/121
✅ Completed instruction 18/121 - Result: No
🔄 Processing instruction 19/121
✅ Completed instruction 19/121 - Result: Yes
🔄 Processing instruction 20/121
✅ Completed instruction 20/121 - Result: Yes
🔄 Processing instruction 21/121
✅ Completed instruction 21/121 - Result: Yes
🔄 Processing instruction 22/121
✅ Completed instruction 22/121 - Result: Yes
🔄 Processing instruction 23/121
✅ Completed instruction 23/121 - Result: Yes
🔄 Processing instruction 24/121
✅ Completed instruction 24/121 - Result: Yes
🔄 Processing instruction 25/121
✅ Completed instruction 25/121 - Result: Yes
🔄 Processing instruction 26/121
✅ Completed instruction 26/121 - Result: Yes
🔄 Processing instruction 27/121
✅ Completed instruction 27/121 - Result: Yes
🔄 Processing instruction 28/121
✅ Completed instruction 28/121 - Result: Yes
🔄 Processing instruction 29/121
✅ Completed instruction 29/121 - Result: No
🔄 Processing instruction 30/121
✅ Completed instruction 30/121 - Result: Yes
🔄 Processing instruction 31/121
✅ Completed instruction 31/121 - Result: Yes
🔄 Processing instruction 32/121
✅ Completed instruction 32/121 - Result: Yes
🔄 Processing instruction 33/121
✅ Completed instruction 33/121 - Result: Yes
🔄 Processing instruction 34/121
✅ Completed instruction 34/121 - Result: Yes
🔄 Processing instruction 35/121
✅ Completed instruction 35/121 - Result: No
🔄 Processing instruction 36/121
✅ Completed instruction 36/121 - Result: Yes
🔄 Processing instruction 37/121
✅ Completed instruction 37/121 - Result: Yes
🔄 Processing instruction 38/121
✅ Completed instruction 38/121 - Result: No
🔄 Processing instruction 39/121
✅ Completed instruction 39/121 - Result: Yes
🔄 Processing instruction 40/121
✅ Completed instruction 40/121 - Result: Yes
🔄 Processing instruction 41/121
✅ Completed instruction 41/121 - Result: Yes
🔄 Processing instruction 42/121
✅ Completed instruction 42/121 - Result: Yes
🔄 Processing instruction 43/121
✅ Completed instruction 43/121 - Result: Yes
🔄 Processing instruction 44/121
✅ Completed instruction 44/121 - Result: No
🔄 Processing instruction 45/121
✅ Completed instruction 45/121 - Result: No
🔄 Processing instruction 46/121
✅ Completed instruction 46/121 - Result: No
🔄 Processing instruction 47/121
✅ Completed instruction 47/121 - Result: No
🔄 Processing instruction 48/121
✅ Completed instruction 48/121 - Result: Yes
🔄 Processing instruction 49/121
✅ Completed instruction 49/121 - Result: Yes
🔄 Processing instruction 50/121
✅ Completed instruction 50/121 - Result: Yes
🔄 Processing instruction 51/121
✅ Completed instruction 51/121 - Result: Yes
🔄 Processing instruction 52/121
✅ Completed instruction 52/121 - Result: Yes
🔄 Processing instruction 53/121
✅ Completed instruction 53/121 - Result: Yes
🔄 Processing instruction 54/121
✅ Completed instruction 54/121 - Result: Yes
🔄 Processing instruction 55/121
✅ Completed instruction 55/121 - Result: Yes
🔄 Processing instruction 56/121
✅ Completed instruction 56/121 - Result: Yes
🔄 Processing instruction 57/121
✅ Completed instruction 57/121 - Result: Yes
🔄 Processing instruction 58/121
✅ Completed instruction 58/121 - Result: Yes
🔄 Processing instruction 59/121
✅ Completed instruction 59/121 - Result: Yes
🔄 Processing instruction 60/121
✅ Completed instruction 60/121 - Result: No
🔄 Processing instruction 61/121
✅ Completed instruction 61/121 - Result: Yes
🔄 Processing instruction 62/121
✅ Completed instruction 62/121 - Result: Yes
🔄 Processing instruction 63/121
✅ Completed instruction 63/121 - Result: Yes
🔄 Processing instruction 64/121
✅ Completed instruction 64/121 - Result: Yes
✅ Completed instruction 64/121 - Result: Yes
🔄 Processing instruction 65/121
✅ Completed instruction 65/121 - Result: Yes
🔄 Processing instruction 66/121
✅ Completed instruction 66/121 - Result: Yes
🔄 Processing instruction 67/121
✅ Completed instruction 67/121 - Result: No
🔄 Processing instruction 68/121
✅ Completed instruction 68/121 - Result: No
🔄 Processing instruction 69/121
✅ Completed instruction 69/121 - Result: No
🔄 Processing instruction 70/121
✅ Completed instruction 70/121 - Result: Yes
🔄 Processing instruction 71/121
✅ Completed instruction 71/121 - Result: Yes
🔄 Processing instruction 72/121
✅ Completed instruction 72/121 - Result: Yes
🔄 Processing instruction 73/121
✅ Completed instruction 73/121 - Result: Yes
🔄 Processing instruction 74/121
✅ Completed instruction 74/121 - Result: Yes
🔄 Processing instruction 75/121
✅ Completed instruction 75/121 - Result: Yes
🔄 Processing instruction 76/121
✅ Completed instruction 76/121 - Result: No
🔄 Processing instruction 77/121
✅ Completed instruction 77/121 - Result: No
🔄 Processing instruction 78/121
✅ Completed instruction 78/121 - Result: Yes
🔄 Processing instruction 79/121
✅ Completed instruction 79/121 - Result: Yes
🔄 Processing instruction 80/121
✅ Completed instruction 80/121 - Result: No
🔄 Processing instruction 81/121
✅ Completed instruction 81/121 - Result: Yes
🔄 Processing instruction 82/121
✅ Completed instruction 82/121 - Result: Yes
🔄 Processing instruction 83/121
Error on attempt 1/3: Failed to process question: 500 INTERNAL. {'error': {'code': 500, 'message': 'An internal error has occurred. Please retry or report in https://developers.generativeai.google/guide/troubleshooting', 'status': 'INTERNAL'}}
🔄 Processing instruction 84/121
✅ Completed instruction 84/121 - Result: Yes
✅ Completed instruction 83/121 - Result: Yes
🔄 Processing instruction 85/121
✅ Completed instruction 85/121 - Result: Yes
🔄 Processing instruction 86/121
✅ Completed instruction 86/121 - Result: No
🔄 Processing instruction 87/121
✅ Completed instruction 87/121 - Result: Yes
🔄 Processing instruction 88/121
✅ Completed instruction 88/121 - Result: Yes
🔄 Processing instruction 89/121
✅ Completed instruction 89/121 - Result: Yes
🔄 Processing instruction 90/121
✅ Completed instruction 90/121 - Result: Yes
🔄 Processing instruction 91/121
✅ Completed instruction 91/121 - Result: Yes
🔄 Processing instruction 92/121
✅ Completed instruction 92/121 - Result: No
🔄 Processing instruction 93/121
✅ Completed instruction 93/121 - Result: Yes
🔄 Processing instruction 94/121
✅ Completed instruction 94/121 - Result: Yes
🔄 Processing instruction 95/121
✅ Completed instruction 95/121 - Result: No
🔄 Processing instruction 96/121
✅ Completed instruction 96/121 - Result: Yes
🔄 Processing instruction 97/121
✅ Completed instruction 97/121 - Result: Yes
🔄 Processing instruction 98/121
✅ Completed instruction 98/121 - Result: Yes
🔄 Processing instruction 99/121
✅ Completed instruction 99/121 - Result: Yes
🔄 Processing instruction 100/121
✅ Completed instruction 100/121 - Result: No
🔄 Processing instruction 101/121
✅ Completed instruction 101/121 - Result: No
🔄 Processing instruction 102/121
✅ Completed instruction 102/121 - Result: Yes
🔄 Processing instruction 103/121
✅ Completed instruction 103/121 - Result: Yes
🔄 Processing instruction 104/121
✅ Completed instruction 104/121 - Result: Yes
🔄 Processing instruction 105/121
✅ Completed instruction 105/121 - Result: Yes
🔄 Processing instruction 106/121
✅ Completed instruction 106/121 - Result: Yes
🔄 Processing instruction 107/121
✅ Completed instruction 107/121 - Result: Yes
🔄 Processing instruction 108/121
✅ Completed instruction 108/121 - Result: Yes
🔄 Processing instruction 109/121
✅ Completed instruction 109/121 - Result: Yes
🔄 Processing instruction 110/121
✅ Completed instruction 110/121 - Result: No
🔄 Processing instruction 111/121
✅ Completed instruction 111/121 - Result: Yes
🔄 Processing instruction 112/121
✅ Completed instruction 112/121 - Result: No
🔄 Processing instruction 113/121
Error on attempt 1/3: Failed to process question: 500 INTERNAL. {'error': {'code': 500, 'message': 'An internal error has occurred. Please retry or report in https://developers.generativeai.google/guide/troubleshooting', 'status': 'INTERNAL'}}
🔄 Processing instruction 114/121
✅ Completed instruction 114/121 - Result: Yes
✅ Completed instruction 113/121 - Result: Yes
🔄 Processing instruction 115/121
✅ Completed instruction 115/121 - Result: Yes
🔄 Processing instruction 116/121
✅ Completed instruction 116/121 - Result: Yes
🔄 Processing instruction 117/121
✅ Completed instruction 117/121 - Result: Yes
🔄 Processing instruction 118/121
✅ Completed instruction 118/121 - Result: Yes
🔄 Processing instruction 119/121
✅ Completed instruction 119/121 - Result: Yes
🔄 Processing instruction 120/121
✅ Completed instruction 120/121 - Result: No
🔄 Processing instruction 121/121
✅ Completed instruction 121/121 - Result: No
💾 Saving results to ../datasets/KIMI_result_DreamOf_RedChamber/Graph_Iteration2/pred_instructions_context_gemini_itr2.csv...
✅ Gemini RAG Graph Judge processing completed!
📊 Results saved to: ../datasets/KIMI_result_DreamOf_RedChamber/Graph_Iteration2/pred_instructions_context_gemini_itr2.csv
📈 Processing statistics:
   - Successful responses: 121
   - Error responses: 0
   - 'Yes' judgments: 93
   - 'No' judgments: 28
   - Success rate: 100.0%
   - Positive judgment rate: 76.9%

🎉 Graph judgment pipeline completed successfully!
📂 Results available at: ../datasets/KIMI_result_DreamOf_RedChamber/Graph_Iteration2/pred_instructions_context_gemini_itr2.csv

📋 Next steps:
   1. Review the generated CSV file for judgment results
   2. Run evaluation metrics against ground truth data
   3. Analyze citation patterns for accuracy insights